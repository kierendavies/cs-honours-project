%TC:macro \subtitle [header]
%TC:newcounter todo Number of TODOs
%TC:macro \todo [option:ignore]
%TC:macrocount \todo [todo]

\documentclass[draft]{sig-alternate}
\makeatletter
\def\@copyrightspace{\relax}
\makeatother

\usepackage[english]{babel}
\usepackage[english]{isodate}
\cleanlookdateon

\usepackage{enumitem}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{hyphenat}
\usepackage{ktodo}

\newcommand{\union}{\cup}
\newcommand{\intersect}{\cap}
\newcommand{\sementails}{\mathrel{|}\joinrel\mkern-.5mu\mathrel{-}}
\newcommand{\synentails}{\mathrel{|}\joinrel\mathrel{=}}
% \DeclareMathOperator{\signature}{signature}
\newcommand{\signature}{\Sigma}
\DeclareMathOperator{\test}{test}
\newcommand{\casesbox}[2][.45\linewidth]{\parbox[t]{#1}{\hangindent=1em\relax#2}}

\newtheorem{proposition}{Proposition}

\let\oldtextproc\textproc
\renewcommand{\textproc}[1]{\nohyphens{\oldtextproc{#1}}}


% This has to go in the preamble to not get counted by texcount
\numberofauthors{1}

\begin{document}

\title{Ontology Unit Test Algorithms}
\author{
  \alignauthor
  Kieren Davies\\
   \affaddr{University of Cape Town}\\
   \email{kieren@kdavi.es}
}
% \date{5 May 2016}
\maketitle

\begin{abstract}
\end{abstract}

\section{Introduction}

\begin{todos}
  \todo Importance of testing
  \todo Problem: no rigorous examination or proof of correctness
  \todo Simplification (one algorithm to handle many cases)
  \todo (Maybe) Only consider class axioms, data axioms, etc.
\end{todos}

\section{Related work}

\begin{todos}
  \todo TDDOnto etc.
  \todo No distinction between ``entailed'' and ``not a contradiction''
  \todo Not all complex axioms supported
\end{todos}

\section{Application of reasoners}

\begin{todos}
  \todo Methods available from reasoners
  \todo Temporary individuals are slow (reclassification)
  \todo OWL BGP is slow
  \todo Not using \textproc{isEntailed} because not universally provided
  \todo Assumptions about correctness and performance \\(``proven'' in the field)
  \todo Discussion of some implementations (Hypertableau with anonymous individuals)

\end{todos}

\section{A model of unit testing}

\begin{todos}
  \todo Purpose: allow rigorous examination of test algorithms
  \todo Need for different test outputs
  \todo Contradictions caused only by ABox
  \todo Precedence of outputs
  \todo Definitions
  \begin{todos}
    \todo Signature $\signature$
    \todo Meaning of test outputs
  \end{todos}
\end{todos}

\begin{description}
  \item[]
\end{description}

\[
  \test_O(A) =
  \begin{cases}
    \casesbox{already inconsistent} &
      \text{if } O \sementails \bot \\
    \casesbox{missing entity} &
      \text{if } \signature(A) \not\subseteq \signature(O) \\
    \casesbox{new unsatisfiable class} & \\
    \casesbox{inconsistent} &
      \text{if } O \union A \sementails \bot \\
    \casesbox{entailed} &
      \text{if } O \sementails A \\
    \casesbox{not entailed} & \\
  \end{cases}
\]

\section{Unit test algorithms}

\begin{todos}
  \todo Subsections?
  \todo Name according to OWL functional syntax
  \todo Preconditions: consistent ontology, no missing vocabulary
  \todo Show correctness of anonymous individual approach, because reasoners use it (careful of difference)
\end{todos}

\subsection{Class axioms}

\begin{algorithm}[H]
  \caption{}
  \begin{algorithmic}[1]
    \Function{testSubClassOf}{$C$, $D$}
      \If{$C \sqcap \neg D$ has instances}
        \Comment or enumerate $C$ and check in $D$
        \State \Return unsatisfiable
      \ElsIf{$C \sqcap \neg D$ is satisfiable}
        \State \Return satisfiable
      \Else
        \State \Return valid
      \EndIf
    \EndFunction
  \end{algorithmic}
\end{algorithm}

\begin{proposition}
  \textproc{testSubClassOf} is sound with respect to validity.
\end{proposition}

\begin{proposition}
  \textproc{testSubClassOf} is complete with respect to validity.
\end{proposition}

\begin{proposition}
  \textproc{testSubClassOf} is sound with respect to satisfiability.
\end{proposition}

\begin{proposition}
  \textproc{testSubClassOf} is complete with respect to satisfiability.
\end{proposition}

\subsection{Object property axioms}
\subsection{Data property axioms}
\subsection{Assertion axioms}

\section{Discussion}

\begin{todos}
  \todo What goes here?
  \todo Implementation?
  \todo Simpler than TDDOnto
  \todo Plays nicely with Hermit
  \todo TDD tool should support $\textproc{isSatisfiable}(C)$ tests
\end{todos}

\section{Conclusion}

\begin{todos}
  \todo Success!
  \todo Future work
  \begin{todos}
    \todo Benchmark different implementations
  \end{todos}
\end{todos}

\end{document}
