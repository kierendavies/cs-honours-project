%TC:macro \subtitle [header]
%TC:newcounter todo Number of TODOs
%TC:macro \todo [option:ignore]
%TC:macrocount \todo [todo]

\documentclass[draft]{sig-alternate}
\makeatletter
\def\@copyrightspace{\relax}
\makeatother

\usepackage[english]{babel}
\usepackage[english]{isodate}
\cleanlookdateon

\usepackage{enumitem}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{hyphenat}
\usepackage{ktodo}

\newtheorem{proposition}{Proposition}

\newcommand{\union}{\cup}
\newcommand{\intersect}{\cap}
\newcommand{\sementails}{\mathrel{|}\joinrel\mkern-.5mu\mathrel{-}}
\newcommand{\synentails}{\mathrel{|}\joinrel\mathrel{=}}
% \DeclareMathOperator{\signature}{signature}
\newcommand{\signature}{\sigma}
\DeclareMathOperator{\test}{test}

\let\oldtextproc\textproc
\renewcommand{\textproc}[1]{\nohyphens{\oldtextproc{#1}}}


% This has to go in the preamble to not get counted by texcount
\numberofauthors{1}

\begin{document}

\title{Ontology Unit Test Algorithms}
\author{
  \alignauthor
  Kieren Davies\\
   \affaddr{University of Cape Town}\\
   \email{kieren@kdavi.es}
}
% \date{5 May 2016}
\maketitle

% \begin{abstract}
% \end{abstract}

\section{Introduction}

\begin{todos}
  \todo Importance of testing
\end{todos}

\section{Related work}

\begin{todos}
  \todo TDDOnto etc.
  \todo No distinction between ``entailed'' and ``not a contradiction''
  \todo Not all complex axioms supported
\end{todos}

\section{A model of unit testing}

\begin{todos}
  \todo Need for different test outputs
\end{todos}

\subsection{Definitions}

\begin{todos}
  \todo Signature $\signature$
  \todo Meaning of test outputs
\end{todos}

\[
  \test_O(A) =
  \begin{cases}
    \text{inconsistent} &
      \text{if } O \sementails \bot \\
    \text{missing vocab} &
      \text{if } \signature(A) \not\subseteq \signature(O) \\
    \text{valid} &
      \text{if } O \sementails A \\
    \text{unsatisfiable} &
      \text{if } O \union A \sementails \bot \\
    \text{satisfiable} &
      \text{otherwise}
  \end{cases}
\]

\section{Reasoner functionality and considerations}

\begin{todos}
  \todo Methods available from reasoners
  \todo Not using \textproc{isEntailed} because not universally provided
  \todo Assumptions about correctness and performance
  \begin{todos}
    \todo ``Proven'' in the field
  \end{todos}
  \todo Discussion of some implementations
  \begin{todos}
    \todo Hypertableau with anonymous individuals
  \end{todos}
\end{todos}

\section{Unit test algorithms}

\begin{todos}
  \todo With mock individuals (just class subsumption)
  \todo Accompanying proofs
\end{todos}

\begin{algorithm}[H]
  \caption{Test concept inclusion using satisfiability checking}
  \begin{algorithmic}[1]
    \Function{testSubClassOf}{$C$, $D$}
      \If{$C \sqcap \neg D$ has instances}
        \Comment or enumerate $C$ and check in $D$
        \State \Return unsatisfiable
      \ElsIf{$C \sqcap \neg D$ is satisfiable}
        \State \Return satisfiable
      \Else
        \State \Return valid
      \EndIf
    \EndFunction
  \end{algorithmic}
\end{algorithm}

\begin{proposition}
  \textproc{testSubClassOf} is sound with respect to validity.
\end{proposition}

\begin{proof}
\end{proof}

\section{Conclusion}

\begin{todos}
  \todo Success!
  \todo Future work
  \begin{todos}
    \todo Benchmark different implementations
  \end{todos}
\end{todos}

\end{document}
